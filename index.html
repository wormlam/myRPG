<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>簡易 RPG</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div id="startScreen">
    <h1 class="title">⚔️ 簡易 RPG</h1>
    <button class="menu-btn" id="btnStartGame">開始遊戲</button>
    <button class="menu-btn" id="btnLoadStart">讀取</button>
  </div>

  <div id="gameScreen" class="game-layout">
  <aside class="player-panel">
    <div class="panel">
      <h3>冒險者</h3>
      <div class="stats">
        <span class="stat">Lv.<span id="playerLevel">1</span></span>
        <span class="stat">HP: <span id="playerHp">20</span>/<span id="playerMaxHp">20</span></span>
        <span class="stat">攻擊: <span id="playerAtk">5</span></span>
        <span class="stat">金幣: <span id="gold">0</span></span>
        <span class="stat">經驗: <span id="playerExp">0</span>/<span id="playerExpNeed">10</span></span>
      </div>
      <div class="hp-bar"><div class="hp-fill" id="playerHpBar" style="width:100%"></div></div>
      <div class="hp-bar"><div class="hp-fill" id="playerExpBar" style="width:0%;background:linear-gradient(90deg,#4ecca3,#2ecc71)"></div></div>
    </div>
  </aside>
  <main class="game-main">
  <h1>⚔️ 簡易 RPG</h1>

  <div id="mapPanel" class="panel map-panel">
    <h3>地圖 <span class="hint">(WASD 移動)</span></h3>
    <div id="mapGrid" class="map-grid"></div>
    <div class="move-controls">
      <button id="btnUp">W</button>
      <div class="move-row">
        <button id="btnLeft">A</button>
        <span class="move-center"></span>
        <button id="btnRight">D</button>
      </div>
      <button id="btnDown">S</button>
    </div>
  </div>

  <div id="combatPanel" class="panel combat-panel" style="display:none">
    <h3>戰鬥指令</h3>
    <div class="panel" id="enemyPanel">
      <h3>敵人: <span id="enemyName">史萊姆</span></h3>
      <div class="stats">
        <span class="stat">HP: <span id="enemyHp">8</span>/<span id="enemyMaxHp">8</span></span>
        <span class="stat">攻擊: <span id="enemyAtk">2</span></span>
      </div>
      <div class="hp-bar"><div class="hp-fill" id="enemyHpBar" style="width:100%;background:#4ecca3"></div></div>
    </div>
    <div class="combat-actions">
      <button id="btnAttack">⚔️ 攻擊</button>
      <button id="btnDefend">🛡️ 防禦</button>
      <button id="btnEscape">🏃 逃跑</button>
    </div>
  </div>

  <div class="panel">
    <h3>戰鬥紀錄</h3>
    <div id="log"></div>
  </div>
  </main>
  <aside class="sidebar">
    <h3>選單</h3>
    <button class="menu-option" id="menuHeal">💚 治療 (5金)</button>
    <button class="menu-option" id="menuSave">💾 儲存</button>
    <button class="menu-option" id="menuLoad">📂 讀取</button>
    <button class="menu-option" id="menuBack">🏠 返回主畫面</button>
  </aside>
  </div>

  <div id="slotModal" class="modal">
    <div class="modal-content">
      <h3 id="slotModalTitle">選擇欄位</h3>
      <div class="modal-slots" id="modalSlots"></div>
      <button class="modal-close" id="btnCloseModal">關閉</button>
    </div>
  </div>

  <script src="js/config.js"></script>
  <script src="js/state.js"></script>
  <script src="js/utils.js"></script>
  <script src="js/map.js"></script>
  <script src="js/combat.js"></script>
  <script src="js/save.js"></script>
  <script src="js/ui.js"></script>
  <script src="js/main.js"></script>
</body>
</html>
